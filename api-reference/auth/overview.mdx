---
title: 'Autenticação'
description: 'Gerencie autenticação e sessões de usuários na plataforma'
---

## Visão Geral

A API de Autenticação permite que você faça login, logout, renove tokens e obtenha informações do usuário autenticado. Todos os endpoints utilizam autenticação JWT (JSON Web Tokens).

<CardGroup cols={2}>
  <Card
    title="Login"
    icon="right-to-bracket"
    href="/api-reference/auth/login"
  >
    Autentique usuários com email e senha
  </Card>
  <Card
    title="Logout"
    icon="right-from-bracket"
    href="/api-reference/auth/logout"
  >
    Encerre a sessão do usuário
  </Card>
  <Card
    title="Refresh Token"
    icon="rotate"
    href="/api-reference/auth/refresh"
  >
    Renove o token de acesso
  </Card>
  <Card
    title="Dados do Usuário"
    icon="user"
    href="/api-reference/auth/me"
  >
    Obtenha informações do usuário autenticado
  </Card>
</CardGroup>

## Fluxo de Autenticação

<Steps>
  <Step title="Login">
    Faça login com email e senha para receber `access_token` e `refresh_token`
  </Step>
  <Step title="Usar Access Token">
    Inclua o `access_token` no header `Authorization: Bearer {token}` em todas as requisições
  </Step>
  <Step title="Renovar Token">
    Quando o `access_token` expirar, use o `refresh_token` para obter um novo
  </Step>
  <Step title="Logout">
    Ao finalizar, faça logout para invalidar os tokens
  </Step>
</Steps>

## Métodos de Autenticação

A API suporta duas formas de autenticação:

### Bearer Token (JWT)
Utilizado após login bem-sucedido. Tokens JWT têm validade limitada.

```bash
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

### API Token
Para integrações de servidor, você pode usar um API token fixo.

```bash
x-api-token: seu_api_token_aqui
```

## Segurança

<Warning>
  **Nunca exponha seus tokens**: Mantenha seus tokens seguros e nunca os compartilhe em código público ou repositórios.
</Warning>

<Tip>
  **Rotação de tokens**: Implemente lógica de renovação automática de tokens para manter sessões ativas sem interrupções.
</Tip>

## Casos de Uso

### Aplicação Web

```javascript
class AuthService {
  async login(email, password) {
    const response = await fetch('https://api.monitoragrupo.com/v1/auth/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email, password })
    });
    
    const { access_token, refresh_token } = await response.json();
    
    // Armazenar tokens de forma segura
    localStorage.setItem('access_token', access_token);
    localStorage.setItem('refresh_token', refresh_token);
    
    return { access_token, refresh_token };
  }
  
  async refreshToken() {
    const refresh_token = localStorage.getItem('refresh_token');
    
    const response = await fetch('https://api.monitoragrupo.com/v1/auth/refresh', {
      method: 'POST',
      headers: { 
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${refresh_token}`
      }
    });
    
    const { access_token } = await response.json();
    localStorage.setItem('access_token', access_token);
    
    return access_token;
  }
  
  async logout() {
    const access_token = localStorage.getItem('access_token');
    
    await fetch('https://api.monitoragrupo.com/v1/auth/logout', {
      method: 'POST',
      headers: { 'Authorization': `Bearer ${access_token}` }
    });
    
    localStorage.removeItem('access_token');
    localStorage.removeItem('refresh_token');
  }
}
```

### Interceptor de Requisições

```javascript
// Axios interceptor para renovação automática
axios.interceptors.response.use(
  response => response,
  async error => {
    const originalRequest = error.config;
    
    if (error.response.status === 401 && !originalRequest._retry) {
      originalRequest._retry = true;
      
      const newToken = await authService.refreshToken();
      originalRequest.headers['Authorization'] = `Bearer ${newToken}`;
      
      return axios(originalRequest);
    }
    
    return Promise.reject(error);
  }
);
```

## Códigos de Status Comuns

| Código | Descrição |
|--------|-----------|
| `200` | Autenticação bem-sucedida |
| `401` | Credenciais inválidas ou token expirado |
| `403` | Token inválido ou acesso negado |
| `429` | Muitas tentativas de login |

## Próximos Passos

<CardGroup cols={2}>
  <Card
    title="Guia Rápido"
    icon="bolt"
    href="/guides/quickstart"
  >
    Comece a usar a API em minutos
  </Card>
  <Card
    title="Melhores Práticas"
    icon="shield-check"
    href="/guides/best-practices"
  >
    Aprenda as melhores práticas de segurança
  </Card>
</CardGroup>
